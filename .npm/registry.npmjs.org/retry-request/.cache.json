{"_id":"retry-request","_rev":"11-aef0e6c4c6665646149db8d2f0819021","name":"retry-request","description":"Retry a request.","dist-tags":{"latest":"1.3.2"},"versions":{"1.0.0":{"name":"retry-request","version":"1.0.0","description":"Retry a request.","main":"index.js","scripts":{"test":"mocha --timeout 5000"},"files":["index.js","license"],"keywords":["request","retry","stream"],"author":{"name":"Stephen Sawchuk","email":"sawchuk@gmail.com"},"license":"MIT","dependencies":{"request":"^2.58.0","stream-cache":"0.0.2","stream-forward":"^1.0.0","through2":"^2.0.0"},"devDependencies":{"mocha":"^2.2.5"},"gitHead":"58cfe5dbc238f6c4ab7a1888e3522de3b3d4517b","_id":"retry-request@1.0.0","_shasum":"de236deaf4d8a6a989e0942f740deb98a490a197","_from":".","_npmVersion":"2.11.2","_nodeVersion":"0.12.5","_npmUser":{"name":"stephenplusplus","email":"sawchuk@gmail.com"},"dist":{"shasum":"de236deaf4d8a6a989e0942f740deb98a490a197","tarball":"https://registry.npmjs.org/retry-request/-/retry-request-1.0.0.tgz"},"maintainers":[{"name":"stephenplusplus","email":"sawchuk@gmail.com"}],"directories":{}},"1.1.0":{"name":"retry-request","version":"1.1.0","description":"Retry a request.","main":"index.js","scripts":{"test":"mocha --timeout 10000"},"files":["index.js","license"],"keywords":["request","retry","stream"],"author":{"name":"Stephen Sawchuk","email":"sawchuk@gmail.com"},"license":"MIT","dependencies":{"request":"^2.58.0","stream-cache":"0.0.2","stream-forward":"^1.0.0","through2":"^2.0.0"},"devDependencies":{"mocha":"^2.2.5"},"gitHead":"30f1f4a508f9f8b961b76087db410547c538ccc5","_id":"retry-request@1.1.0","_shasum":"e0fefbf6f0f3c769cdd70cb12d45f3ff9b04a08d","_from":".","_npmVersion":"2.11.2","_nodeVersion":"0.12.5","_npmUser":{"name":"stephenplusplus","email":"sawchuk@gmail.com"},"dist":{"shasum":"e0fefbf6f0f3c769cdd70cb12d45f3ff9b04a08d","tarball":"https://registry.npmjs.org/retry-request/-/retry-request-1.1.0.tgz"},"maintainers":[{"name":"stephenplusplus","email":"sawchuk@gmail.com"}],"directories":{}},"1.1.1":{"name":"retry-request","version":"1.1.1","description":"Retry a request.","main":"index.js","scripts":{"test":"mocha --timeout 10000"},"files":["index.js","license"],"keywords":["request","retry","stream"],"author":{"name":"Stephen Sawchuk","email":"sawchuk@gmail.com"},"license":"MIT","dependencies":{"request":"^2.58.0","stream-cache":"0.0.2","stream-forward":"^2.0.0","through2":"^2.0.0"},"devDependencies":{"mocha":"^2.2.5"},"gitHead":"b23d9cfcd5346101b45ce8de6aab9b584a45dd0c","_id":"retry-request@1.1.1","_shasum":"d8d4bf2acf2a877d05a5acd88b5973f37a2a512d","_from":".","_npmVersion":"2.11.2","_nodeVersion":"0.12.5","_npmUser":{"name":"stephenplusplus","email":"sawchuk@gmail.com"},"dist":{"shasum":"d8d4bf2acf2a877d05a5acd88b5973f37a2a512d","tarball":"https://registry.npmjs.org/retry-request/-/retry-request-1.1.1.tgz"},"maintainers":[{"name":"stephenplusplus","email":"sawchuk@gmail.com"}],"directories":{}},"1.2.0":{"name":"retry-request","version":"1.2.0","description":"Retry a request.","main":"index.js","scripts":{"test":"mocha --timeout 10000"},"files":["index.js","license"],"keywords":["request","retry","stream"],"author":{"name":"Stephen Sawchuk","email":"sawchuk@gmail.com"},"license":"MIT","dependencies":{"request":"^2.58.0","stream-cache":"0.0.2","stream-forward":"^2.0.0","through2":"^2.0.0"},"devDependencies":{"mocha":"^2.2.5"},"gitHead":"83a9e0e984ca5c968a3c39a542746f66808e26b7","_id":"retry-request@1.2.0","_shasum":"6360cc16cbbcfa82c1936403954a47d9b247a61d","_from":".","_npmVersion":"2.11.2","_nodeVersion":"0.12.5","_npmUser":{"name":"stephenplusplus","email":"sawchuk@gmail.com"},"dist":{"shasum":"6360cc16cbbcfa82c1936403954a47d9b247a61d","tarball":"https://registry.npmjs.org/retry-request/-/retry-request-1.2.0.tgz"},"maintainers":[{"name":"stephenplusplus","email":"sawchuk@gmail.com"}],"directories":{}},"1.2.1":{"name":"retry-request","version":"1.2.1","description":"Retry a request.","main":"index.js","scripts":{"test":"mocha --timeout 10000"},"files":["index.js","license"],"keywords":["request","retry","stream"],"author":{"name":"Stephen Sawchuk","email":"sawchuk@gmail.com"},"license":"MIT","dependencies":{"request":"^2.58.0","stream-cache":"0.0.2","stream-forward":"^3.0.0","through2":"^2.0.0"},"devDependencies":{"mocha":"^2.2.5"},"gitHead":"563a10fe8072211bbbaa8bdcb440c119d87da618","_id":"retry-request@1.2.1","_shasum":"f48e56c46bf2ed46aa176332779272e2e810c237","_from":".","_npmVersion":"2.11.3","_nodeVersion":"0.12.7","_npmUser":{"name":"stephenplusplus","email":"sawchuk@gmail.com"},"dist":{"shasum":"f48e56c46bf2ed46aa176332779272e2e810c237","tarball":"https://registry.npmjs.org/retry-request/-/retry-request-1.2.1.tgz"},"maintainers":[{"name":"stephenplusplus","email":"sawchuk@gmail.com"}],"directories":{}},"1.2.2":{"name":"retry-request","version":"1.2.2","description":"Retry a request.","main":"index.js","scripts":{"test":"mocha --timeout 12000"},"files":["index.js","license"],"keywords":["request","retry","stream"],"author":{"name":"Stephen Sawchuk","email":"sawchuk@gmail.com"},"license":"MIT","dependencies":{"request":"^2.58.0","stream-cache":"0.0.2","through2":"^2.0.0"},"devDependencies":{"mocha":"^2.2.5"},"gitHead":"db579c9302178623164b96cb0a8a2e6cd34d54ca","_id":"retry-request@1.2.2","_shasum":"29eb758f9bb5640b3ef7653da9f10ed596eb16d2","_from":".","_npmVersion":"2.14.7","_nodeVersion":"4.2.2","_npmUser":{"name":"stephenplusplus","email":"sawchuk@gmail.com"},"dist":{"shasum":"29eb758f9bb5640b3ef7653da9f10ed596eb16d2","tarball":"https://registry.npmjs.org/retry-request/-/retry-request-1.2.2.tgz"},"maintainers":[{"name":"stephenplusplus","email":"sawchuk@gmail.com"}],"directories":{}},"1.2.3":{"name":"retry-request","version":"1.2.3","description":"Retry a request.","main":"index.js","scripts":{"test":"mocha --timeout 12000"},"files":["index.js","license"],"keywords":["request","retry","stream"],"author":{"name":"Stephen Sawchuk","email":"sawchuk@gmail.com"},"license":"MIT","dependencies":{"request":"^2.58.0","stream-cache":"0.0.2","through2":"^2.0.0"},"devDependencies":{"mocha":"^2.2.5"},"gitHead":"56e8021de6ca0ff6952d17bd5c9d1ac36c5cdd6b","_id":"retry-request@1.2.3","_shasum":"20c49dee444fa4372a560657f1960a7635173f9b","_from":".","_npmVersion":"2.14.9","_nodeVersion":"0.12.9","_npmUser":{"name":"stephenplusplus","email":"sawchuk@gmail.com"},"dist":{"shasum":"20c49dee444fa4372a560657f1960a7635173f9b","tarball":"https://registry.npmjs.org/retry-request/-/retry-request-1.2.3.tgz"},"maintainers":[{"name":"stephenplusplus","email":"sawchuk@gmail.com"}],"_npmOperationalInternal":{"host":"packages-5-east.internal.npmjs.com","tmp":"tmp/retry-request-1.2.3.tgz_1454523468799_0.37297065975144506"},"directories":{}},"1.2.4":{"name":"retry-request","version":"1.2.4","description":"Retry a request.","main":"index.js","scripts":{"test":"mocha --timeout 12000"},"files":["index.js","license"],"keywords":["request","retry","stream"],"author":{"name":"Stephen Sawchuk","email":"sawchuk@gmail.com"},"license":"MIT","dependencies":{"request":"^2.69.0","stream-cache":"0.0.2","through2":"^2.0.0"},"devDependencies":{"mocha":"^2.2.5"},"gitHead":"c9a5d8ea5eb23d504be12e1b319c287ea8401f8a","_id":"retry-request@1.2.4","_shasum":"0a9290f0cf32c94f2354fa25abc0d71ef61bc011","_from":".","_npmVersion":"3.7.3","_nodeVersion":"5.8.0","_npmUser":{"name":"stephenplusplus","email":"sawchuk@gmail.com"},"dist":{"shasum":"0a9290f0cf32c94f2354fa25abc0d71ef61bc011","tarball":"https://registry.npmjs.org/retry-request/-/retry-request-1.2.4.tgz"},"maintainers":[{"name":"stephenplusplus","email":"sawchuk@gmail.com"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/retry-request-1.2.4.tgz_1458929175113_0.21797742997296154"},"directories":{}},"1.3.0":{"name":"retry-request","version":"1.3.0","description":"Retry a request.","main":"index.js","scripts":{"test":"mocha --timeout 12000"},"files":["index.js","license"],"keywords":["request","retry","stream"],"author":{"name":"Stephen Sawchuk","email":"sawchuk@gmail.com"},"license":"MIT","dependencies":{"request":"^2.69.0","stream-cache":"0.0.2","through2":"^2.0.0"},"devDependencies":{"mocha":"^2.2.5"},"gitHead":"9c322eed36d87e49974177ae9abbccbd0f8f8dcd","_id":"retry-request@1.3.0","_shasum":"17a20289ee00504d9b0ff33fa0d41724f1671a7f","_from":".","_npmVersion":"3.8.9","_nodeVersion":"6.2.0","_npmUser":{"name":"stephenplusplus","email":"sawchuk@gmail.com"},"dist":{"shasum":"17a20289ee00504d9b0ff33fa0d41724f1671a7f","tarball":"https://registry.npmjs.org/retry-request/-/retry-request-1.3.0.tgz"},"maintainers":[{"name":"stephenplusplus","email":"sawchuk@gmail.com"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/retry-request-1.3.0.tgz_1465996563249_0.40520702907815576"},"directories":{}},"1.3.1":{"name":"retry-request","version":"1.3.1","description":"Retry a request.","main":"index.js","scripts":{"test":"mocha --timeout 12000"},"files":["index.js","license"],"keywords":["request","retry","stream"],"author":{"name":"Stephen Sawchuk","email":"sawchuk@gmail.com"},"license":"MIT","dependencies":{"request":"^2.69.0","through2":"^2.0.0"},"devDependencies":{"mocha":"^2.2.5"},"gitHead":"85ee18dfc48e3bff174a4711440f55ed4748dc0f","_id":"retry-request@1.3.1","_shasum":"2f9dd3ac3cfba24996e7b220928f35b5ff6d3241","_from":".","_npmVersion":"3.8.9","_nodeVersion":"6.2.0","_npmUser":{"name":"stephenplusplus","email":"sawchuk@gmail.com"},"dist":{"shasum":"2f9dd3ac3cfba24996e7b220928f35b5ff6d3241","tarball":"https://registry.npmjs.org/retry-request/-/retry-request-1.3.1.tgz"},"maintainers":[{"name":"stephenplusplus","email":"sawchuk@gmail.com"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/retry-request-1.3.1.tgz_1467044677571_0.050240318989381194"},"directories":{}},"1.3.2":{"name":"retry-request","version":"1.3.2","description":"Retry a request.","main":"index.js","repository":{"type":"git","url":"git+https://github.com/stephenplusplus/retry-request.git"},"scripts":{"test":"mocha --timeout 12000"},"files":["index.js","license"],"keywords":["request","retry","stream"],"author":{"name":"Stephen Sawchuk","email":"sawchuk@gmail.com"},"license":"MIT","engines":{"node":">=0.12"},"dependencies":{"request":"2.76.0","through2":"^2.0.0"},"devDependencies":{"mocha":"^2.2.5"},"gitHead":"cffad4f130d3b52117a59536ab4d768788d1c3ff","bugs":{"url":"https://github.com/stephenplusplus/retry-request/issues"},"homepage":"https://github.com/stephenplusplus/retry-request#readme","_id":"retry-request@1.3.2","_shasum":"59ad24e71f8ae3f312d5f7b4bcf467a5e5a57bd6","_from":".","_npmVersion":"3.9.5","_nodeVersion":"6.2.2","_npmUser":{"name":"stephenplusplus","email":"sawchuk@gmail.com"},"dist":{"shasum":"59ad24e71f8ae3f312d5f7b4bcf467a5e5a57bd6","tarball":"https://registry.npmjs.org/retry-request/-/retry-request-1.3.2.tgz"},"maintainers":[{"name":"stephenplusplus","email":"sawchuk@gmail.com"}],"_npmOperationalInternal":{"host":"packages-18-east.internal.npmjs.com","tmp":"tmp/retry-request-1.3.2.tgz_1481223660640_0.9872467438690364"},"directories":{}}},"readme":"|![retry-request](logo.png)\n|:-:\n|Retry a [request][request] with built-in [exponential backoff](https://developers.google.com/analytics/devguides/reporting/core/v3/coreErrors#backoff).\n\n```sh\n$ npm install --save retry-request\n```\n```js\nvar request = require('retry-request');\n```\n\nIt should work the same as `request` in both callback mode and stream mode.\n\nNote: This module only works when used as a readable stream, i.e. POST requests aren't supported  ([#3](https://github.com/stephenplusplus/retry-request/issues/3)).\n\n#### Callback\n\n`urlThatReturns503` will be requested 3 total times before giving up and executing the callback.\n\n```js\nrequest(urlThatReturns503, function (err, resp, body) {});\n```\n\n#### Stream\n\n`urlThatReturns503` will be requested 3 total times before giving up and emitting the `response` and `complete` event as usual.\n\n```js\nrequest(urlThatReturns503)\n  .on('error', function () {})\n  .on('response', function () {})\n  .on('complete', function () {});\n```\n\n## request(requestOptions, [opts], [cb])\n\n### requestOptions\n\nPassed directly to `request`. See the list of options supported: https://github.com/request/request/#requestoptions-callback.\n\n### opts *(optional)*\n\n#### `opts.objectMode`\n\nType: `Boolean`\n\nDefault: `false`\n\nSet to `true` if your custom `opts.request` function returns a stream in object mode.\n\n#### `opts.retries`\n\nType: `Number`\n\nDefault: `2`\n\n```js\nvar opts = {\n  retries: 4\n};\n\nrequest(urlThatReturns503, opts, function (err, resp, body) {\n  // urlThatReturns503 was requested a total of 5 times\n  // before giving up and executing this callback.\n});\n```\n\n#### `opts.shouldRetryFn`\n\nType: `Function`\n\nDefault: Returns `true` if [http.incomingMessage](https://nodejs.org/api/http.html#http_http_incomingmessage).statusCode is < 200 or >= 400.\n\n```js\nvar opts = {\n  shouldRetryFn: function (incomingHttpMessage) {\n    return incomingHttpMessage.statusMessage !== 'OK';\n  }\n};\n\nrequest(urlThatReturnsNonOKStatusMessage, opts, function (err, resp, body) {\n  // urlThatReturnsNonOKStatusMessage was requested a\n  // total of 3 times, each time using `opts.shouldRetryFn`\n  // to decide if it should continue before giving up and\n  // executing this callback.\n});\n```\n\n#### `opts.request`\n\nType: `Function`\n\nDefault: [`request`][request]\n\n*NOTE: If you override the request function, and it returns a stream in object mode, be sure to set `opts.objectMode` to `true`.*\n\n```js\nvar originalRequest = require('request').defaults({\n  pool: {\n    maxSockets: Infinity\n  }\n});\n\nvar opts = {\n  request: originalRequest\n};\n\nrequest(urlThatReturns503, opts, function (err, resp, body) {\n  // Your provided `originalRequest` instance was used.\n});\n```\n\n### cb *(optional)*\n\nPassed directly to `request`. See the callback section: https://github.com/request/request/#requestoptions-callback.\n\n[request]: https://github.com/request/request\n","maintainers":[{"name":"stephenplusplus","email":"sawchuk@gmail.com"}],"time":{"modified":"2016-12-08T19:01:01.228Z","created":"2015-07-07T20:20:13.134Z","1.0.0":"2015-07-07T20:20:13.134Z","1.1.0":"2015-07-09T16:30:54.873Z","1.1.1":"2015-07-12T23:42:15.406Z","1.2.0":"2015-07-16T14:28:17.570Z","1.2.1":"2015-08-19T00:36:07.498Z","1.2.2":"2015-12-09T13:22:43.686Z","1.2.3":"2016-02-03T18:17:50.085Z","1.2.4":"2016-03-25T18:06:17.292Z","1.3.0":"2016-06-15T13:16:05.673Z","1.3.1":"2016-06-27T16:24:40.042Z","1.3.2":"2016-12-08T19:01:01.228Z"},"keywords":["request","retry","stream"],"author":{"name":"Stephen Sawchuk","email":"sawchuk@gmail.com"},"license":"MIT","readmeFilename":"readme.md","homepage":"https://github.com/stephenplusplus/retry-request#readme","repository":{"type":"git","url":"git+https://github.com/stephenplusplus/retry-request.git"},"bugs":{"url":"https://github.com/stephenplusplus/retry-request/issues"},"_attachments":{},"_etag":"W/\"5849aded-3adb\"","_lastModified":"Thu, 08 Dec 2016 19:01:01 GMT","_cached":true}